let logdialog=document.querySelector(".dialog"),butt=document.querySelector(".butt"),can=document.querySelector(".can");butt.onclick=()=>{logdialog.style.display="flex"},can.onclick=()=>{logdialog.style.display="none"};let logswitch=document.querySelector(".logswitch strong"),dropzone=document.querySelector(".dropzone"),diinputs=document.querySelectorAll(".dialogbox input[type='text']");dropzone.ondragover=()=>{dropzone.parentElement.style.backgroundColor="#7b241c",logswitch.style.top="2px",logswitch.style.backgroundColor="white",dropzone.appendChild(logswitch)};let cor=document.querySelector(".cor"),welcome=document.querySelector(".welcome");cor.onclick=e=>{e.preventDefault();let o=0;diinputs.forEach((e=>{if(e.value.length>15&&e.value.length<3)return e.focus(),e.style.borderColor="red",void(o=0);e.style.borderColor="grey",o+=1})),"white"==logswitch.style.backgroundColor&&(o+=1),4==o&&(logdialog.style.display="none",welcome.innerText="welcome "+diinputs[0].value+" "+diinputs[1].value+"!)",alert("u log in"))};let phonenum=document.querySelector("#phonenum"),lastname=document.querySelector("#lastname"),firstname=document.querySelector("#firstname");phonenum.oninput=()=>{phonenum.value=phonenum.value.replace(/[\D]/g,"")};let validinp=[lastname,firstname];validinp.forEach((e=>{e.onkeyup=function(){e.value=e.value.replace(/[^A-Za-z А-Яа-яЄЇІєії]/g,"")}}));let cardsoff=document.querySelectorAll(".cardoff img");cardsoff.forEach((e=>{e.onclick=o=>{3==o.detail&&(e.previousElementSibling.style.color="#c0301c",e.previousElementSibling.style.fontWeight="bold",e.previousElementSibling.innerText="discover")}}));let ltmenu=document.querySelectorAll(".ltmenu a"),workcards=document.querySelectorAll(".workcard");ltmenu.forEach((e=>{e.onclick=o=>{o.preventDefault(),"All"==e.innerText?workcards.forEach((e=>e.style.display="block")):workcards.forEach((o=>{o.style.display=e.innerText==o.querySelector("p").innerText?"block":"none"}))}}));let readmore=document.querySelectorAll(".readmore"),txmore=document.querySelectorAll(".txmore");readmore.forEach(((e,o)=>{e.onclick=e=>{e.preventDefault(),txmore[o].classList.toggle("txshow")}}));let bur=document.querySelector(".burMenu"),menu=document.querySelector(".menu"),blur=document.querySelector(".blur");bur.onclick=()=>{bur.classList.toggle("burMenuOpen"),menu.classList.toggle("burblock")};
let scrollobj=["#services","#about","#works","#blog","#clients","#contact","#footer"],scrollobjY=[],myobj=[];window.onload=()=>{scrollobj.forEach((o=>myobj.push(document.querySelector(o)))),myobj.forEach((o=>{scrollobjY.push(o.getBoundingClientRect().top+window.scrollY),o.style.opacity="0",o.style.transition="1s all ease",o.firstElementChild&&(o.firstElementChild.style.transition="3s all ease",o.firstElementChild.style.transform="translateX (-90px)")})),console.log(scrollobjY)},window.onscroll=()=>{scrollobjY.forEach(((o,l)=>{window.scrollY>o-window.innerHeight/1&&(myobj[l].style.opacity="1",myobj[l].firstElementChild.style.transform="translateX (0px)")}))};
let btn=document.querySelector("#appload"),inputs=document.querySelectorAll(".contactsmain input"),tx=document.querySelector(".txarea");inputs.forEach((e=>{localStorage.getItem(e.name)&&(e.value=localStorage.getItem(e.name),"e-mail"!=e.name&&(e.onkeyup=function(){e.value=e.value.replace(/[^A-Za-z А-Яа-яЄЇІєії]/g,"")}))})),btn.onclick=e=>{e.preventDefault();let t=document.createElement("div");t.classList.add("dialog"),t.style.display="block",document.body.appendChild(t);let l=document.createElement("form");l.classList.add("dialogbox"),t.appendChild(l),l.innerHTML="<h3>Check your data</h3>",inputs.forEach((e=>{if(e.name){localStorage.setItem(e.name,e.value);let t=document.createElement("p");t.innerHTML=`${e.name} <em> ${e.value} </em>`,l.appendChild(t)}}));let n=document.createElement("p");n.innerHTML=`${tx.name} <em> ${tx.value} </em>`,l.appendChild(n),t.onclick=e=>{t.style.display="none",t.remove(),e.cancelBubble=!0},l.onclick=e=>{e.cancelBubble=!0};let a=document.createElement("div");a.classList.add("mButt"),l.appendChild(a);let c=document.createElement("a");c.classList.add("cor"),a.appendChild(c),c.innerText="confirm";let o=document.createElement("a");o.classList.add("can"),a.appendChild(o),o.innerText="cancel",o.onclick=()=>{t.style.display="none",t.remove()},c.onclick=e=>{let t="?";inputs.forEach(((e,l)=>{t+=`${0==l?"":"&"}${e.name}=${e.value}`})),t+=`&message=${tx.value}`,alert(t),l.querySelector("h3").innerHTML="message sent",l.querySelectorAll("p").forEach((e=>e.remove())),c.style.display="none",o.innerText="OK";setTimeout(o.onclick,7e3);fetch("http://localhost/dolphintg.php"+t).then((e=>console.log(e)))}};
let topp=document.querySelector(".top"),mainn=document.querySelector(".mainbanner"),paralaks=[topp,mainn];paralaks.forEach((n=>{n.onmousemove=e=>{let o=100*e.x/window.innerWidth,t=100*e.y/window.innerHeight;n.style.backgroundPosition=o+"% "+t+"%"}}));
const quotes=[{quote:"In three words I can sum up everything I've learned about life: it goes on.",author:"Robert Frost"},{quote:"To be yourself in a world that is constantly trying to make you something else is the greatest accomplishment.",author:"Ralph Waldo Emerson"},{quote:"Success is not the key to happiness. Happiness is the key to success.",author:"Albert Schweitzer"},{quote:"Do not go where the path may lead, go instead where there is no path and leave a trail.",author:"Ralph Waldo Emerson"},{quote:"It is never too late to be what you might have been.",author:"George Eliot"},{quote:"The only way to do great work is to love what you do.",author:"Steve Jobs"},{quote:"Happiness depends upon ourselves.",author:"Aristotle"},{quote:"Life is what happens when you're busy making other plans.",author:"John Lennon"},{quote:"The only limit to our realization of tomorrow is our doubts of today.",author:"Franklin D. Roosevelt"},{quote:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"}];class Slider{constructor(t,e){this.slidecont=t,this.slidecont.style.position="relative",this.slideSelector=e,this.slides=this.slidecont.querySelectorAll(e),this.slidecont.style.height=this.slidecont.getBoundingClientRect().height+"px",this.sliderwidth=this.slidecont.getBoundingClientRect().width,this.slideWidth=this.slides[0].getBoundingClientRect().width,this.slides.forEach((t=>{t.style.position="absolute"})),this.fixedCardDist=10,this.defaultVisibleSlides=4,this.getCardCount(),this.place(),this.move()}getCardCount(){this.maxVisibleSlides=Math.floor(this.slidecont.getBoundingClientRect().width/this.slideWidth),0==this.maxVisibleSlides&&(this.maxVisibleSlides=1),this.maxVisibleSlides>this.defaultVisibleSlides&&(this.maxVisibleSlides=this.defaultVisibleSlides)}trigger(){console.log("trigger")}slideResize(){clearInterval(this.slidertimer),this.getCardCount(),this.sliderwidth=this.slidecont.getBoundingClientRect().width,this.place(),this.move(),console.log(this.maxVisibleSlides)}place(){this.maxVisibleSlides>1?(this.carddist=this.sliderwidth-this.slideWidth*this.maxVisibleSlides,this.slides.forEach(((t,e)=>{t.style.left=(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*e+"px",t.style.width=this.slideWidth+"px"}))):this.slides.forEach(((t,e)=>{t.style.left=(this.sliderwidth+this.fixedCardDist)*e+"px",t.style.width=window.innerWidth-15+"px"}))}move(){this.slidertimer=setInterval((()=>{let t=this.slides[0].cloneNode(!0);this.maxVisibleSlides>1?t.style.left=(this.slideWidth+this.carddist/this.maxVisibleSlides)*this.slides.length+this.carddist/(this.maxVisibleSlides-1)+"px":t.style.left=(this.slideWidth+this.fixedCardDist)*this.slides.length+this.fixedCardDist+"px",this.slidecont.appendChild(t),this.slides.forEach(((t,e)=>{this.maxVisibleSlides>1?t.style.left=(t.getBoundingClientRect().width+this.carddist/(this.maxVisibleSlides-1))*(e-1)+"px":t.style.left=(t.getBoundingClientRect().width+this.fixedCardDist)*(e-1)+"px"})),this.trigger(),this.maxVisibleSlides>1?t.style.left=(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*(this.slides.length-1)+"px":t.style.left=(this.slideWidth+this.fixedCardDist)*(this.slides.length-1)+"px",setTimeout((()=>{this.slides[0].remove(),this.slides=this.slidecont.querySelectorAll(this.slideSelector)}),2e3)}),5e3)}}class EmpSlider extends Slider{constructor(t){super(t,".divsl"),t.addEventListener("touchstart",this.touchslStart),t.addEventListener("touchend",this.touchslEnd),t.addEventListener("touchmove",this.touchslMove)}touchslStart=t=>{this.startX=t.touches[0].pageX};touchslEnd=t=>{console.log("end"),this.moveX>=this.startX?(console.log("touchL"),this.move3L()):(console.log("touchR"),this.move3R())};touchslMove=t=>{this.moveX=t.touches[0].pageX};clickProtector=!1;move3L=()=>{clearInterval(this.slidertimer),[this.slides[0].cloneNode(!0),this.slides[1].cloneNode(!0),this.slides[2].cloneNode(!0)].forEach(((t,e)=>{t.style.left=(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*(this.slides.length+e)+"px",t.classList.add("phantom"),slidecont.appendChild(t),setTimeout((()=>{t.style.left=(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*(e+2)+"px"}),10)})),this.slides.forEach(((t,e)=>{setTimeout((()=>{t.style.left=(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*(e-3)+"px"}),10)})),setTimeout((()=>{this.slides[0].remove(),this.slides[1].remove(),this.slides[2].remove(),this.slides=this.slidecont.querySelectorAll(this.slideSelector),this.clickProtector=!1,this.move()}),2e3)};move3R=()=>{clearInterval(this.slidertimer),[this.slides[this.slides.length-1].cloneNode(!0),this.slides[this.slides.length-2].cloneNode(!0),this.slides[this.slides.length-3].cloneNode(!0)].forEach(((t,e)=>{t.style.left=-(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*(e+1)+"px",slidecont.insertAdjacentElement("afterbegin",t),setTimeout((()=>{t.style.left=(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*(2-e)+"px"}),10)})),this.slides.forEach(((t,e)=>{setTimeout((()=>{t.style.left=(this.slideWidth+this.carddist/(this.maxVisibleSlides-1))*(e+3)+"px"}),10)})),setTimeout((()=>{this.slides[this.slides.length-3].remove(),this.slides[this.slides.length-2].remove(),this.slides[this.slides.length-1].remove(),this.slides=this.slidecont.querySelectorAll(this.slideSelector),this.clickProtector=!1,this.move()}),2e3)};setbuttons=(t,e)=>{t.onclick=()=>{0==this.clickProtector&&(this.clickProtector=!0,this.move3L())},e.onclick=()=>{0==this.clickProtector&&(this.clickProtector=!0,this.move3R())}}}class Quotes extends Slider{constructor(t,e){super(t,".logobx"),this.quotes=e,this.activeQuote=0,clearInterval(this.slidertimer),this.defaultVisibleSlides=5,this.getCardCount(),this.place(),this.move()}setDots(t){let e=document.querySelectorAll(t+" .dot");e.forEach((t=>t.classList.remove("active"))),this.dots=e,this.DotCont=t,this.activeDot=0,e[0].classList.add("active"),this.dots.forEach(((t,s)=>{t.onclick=()=>{clearInterval(this.slidertimer),this.quotesl.style.opacity="0",this.authorsl.style.opacity="0",this.dots[this.activeDot].classList.remove("active"),setTimeout((()=>{this.quotesl.innerHTML=this.quotes[s].quote,this.authorsl.innerHTML=this.quotes[s].author,this.quotesl.style.opacity="1",this.authorsl.style.opacity="1",this.activeDot=s,e[s].classList.add("active"),this.move()}),500)}}))}trigger(){this.dots[this.activeDot].classList.remove("active"),this.activeDot<this.dots.length-1?this.activeDot++:this.activeDot=0,this.dots[this.activeDot].classList.add("active"),this.activeQuote<this.quotes.length-1?this.activeQuote++:this.activeQuote=0,this.quotesl.style.opacity="0",this.authorsl.style.opacity="0",setTimeout((()=>{this.quotesl.innerHTML=this.quotes[this.activeQuote].quote,this.authorsl.innerHTML=this.quotes[this.activeQuote].author,this.quotesl.style.opacity="1",this.authorsl.style.opacity="1"}),2e3)}setQuotes(t){this.quotesl=document.querySelector(t+" .slide"),this.authorsl=document.querySelector(t+" .john")}}let slidecont=document.querySelector(".sl"),emp=new EmpSlider(slidecont);console.log(emp);let butL=document.querySelector(".arrowl"),butR=document.querySelector(".arrowr");emp.setbuttons(butL,butR);let slideqcont=document.querySelector(".logosliders"),qslide=new Quotes(slideqcont,quotes);qslide.setDots(".dots"),qslide.setQuotes(".bottomslide"),window.onresize=()=>{emp.slideResize(),qslide.slideResize()};